Get Fluentd build information by running these commands:

export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l "app.kubernetes.io/name={{ include "fluentd.name" . }},app.kubernetes.io/instance={{ .Release.Name }}" -o jsonpath="{.items[0].metadata.name}")
kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 24231:24231
curl http://127.0.0.1:24231/metrics

2024-01-26 11:22:02 +0000 [info]: #0 [filter_kube_metadata] stats - namespace_cache_size: 8, pod_cache_size: 21, pod_cache_api_updates: 2, id_cache_miss: 2, namespace_cache_host_updates: 8, pod_cache_host_updates: 21
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:02.526775637 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:02 wsconn: &{0xc0000aa960 0xc0000bf000 0xc000093a90 0xc0000a80e0 {0 0} {0xc0000aa900} <nil> {0 0} {0xc0000e0980 false} 0xc000093ab0 1 1000 0}", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:02.526791387 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:02 wsconn: ws://192.168.0.248/ws", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:02.526794062 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:02 ptmx: &{0xc0000aa600}", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:08.484176408 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:08 wsconn: &{0xc00006e600 0xc0001b2400 0xc00002f300 0xc000010060 {0 0} {0xc00006e5a0} <nil> {0 0} {0xc00006c6c0 false} 0xc00002f320 1 1000 0}", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:08.484199271 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:08 wsconn: ws://192.168.0.248/ws", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [warn]: #0 dump an error event: error_class=Fluent::Plugin::OpenSearchErrorHandler::OpenSearchError error="400 - Rejected by OpenSearch [error type]: mapper_parsing_exception [reason]: 'object mapping for [kubernetes.labels.app] tried to parse field [app] as object, but found a concrete value'" location=nil tag="kubernetes.var.log.containers.rtty-deployment-kubectl-88cd4f58b-dwlm4_default_rtty-kubectl-8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406.log" time=2024-01-26 11:22:08.484201766 +0000 record={"stream"=>"stderr", "log"=>"2024/01/26 11:22:08 ptmx: &{0xc0000aa600}", "docker"=>{"container_id"=>"8b66a21705311918266564ca07bcafa0336b9efacd5f242750c9c02b60d77406"}, "kubernetes"=>{"container_name"=>"rtty-kubectl", "namespace_name"=>"default", "pod_name"=>"rtty-deployment-kubectl-88cd4f58b-dwlm4", "container_image"=>"docker.io/pawwlyk52/kubectl:latest", "container_image_id"=>"docker.io/pawwlyk52/kubectl@sha256:2f7fb84961314bfcf8e90396947985c40624e2aea78d3e5973c82afa5b6ccb89", "pod_id"=>"f0b54603-ccff-4bb1-9594-f562c1f1c964", "pod_ip"=>"10.42.1.4", "host"=>"k3snode1", "labels"=>{"app"=>"rtty-kubectl", "pod-template-hash"=>"88cd4f58b"}}}
2024-01-26 11:23:04 +0000 [debug]: #0 Indexed (op = index), 6 bad_argument
2024-01-26 11:25:42 +0000 [info]: #0 [filter_kube_metadata] stats - namespace_cache_size: 8, pod_cache_size: 21, pod_cache_api_updates: 2, id_cache_miss: 2, namespace_cache_host_updates: 8, pod_cache_host_updates: 21

